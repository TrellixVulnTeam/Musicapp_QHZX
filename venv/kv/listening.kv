
<ListeningScreen>:
    FloatLayout:
        Label:
            id: playlist_name
            color: (1, 0, 0, 1)
            text: "Playlist_name"
            size_hint: .5, .1
            pos_hint: {"top": .99, "center_x" :.5}
        FloatLayout:
            canvas:
                Color:
                    rgb: utils.get_color_from_hex("#50E973")
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [(20, 20), (20, 20),( 20, 20), (20, 20)]
            rows:1
            pos_hint: {"top":.9,"center_x":.27}
            size_hint: .45,0.65
            ScrollView:
                pos_hint: {"center_y": .5, "center_x": .5}
                size_hint: .9, .8
                GridLayout:
                    id: music_list
                    cols: 1
                    spacing: 5,5
                    size_hint_y: None
                    height: self.minimum_height
                    row_default_height: '30dp'
                    row_force_default: True
        FloatLayout:
            canvas:
                Color:
                    rgb: utils.get_color_from_hex("#50E973")
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [(20, 20), (20, 20),( 20, 20), (20, 20)]
            rows:1
            pos_hint: {"top":.9,"center_x":.73}
            size_hint: .45,0.65
            Slider:
                id: slider
                min: 0
                max: 100
                step: 1
                pos_hint: {"center_x":.5,"top":.9}
                size_hint_x: .6
                
            Label:
                id: song_name
                color: (1, 0, 0, 1)
                text: "Song name"
                size_hint: .5, .1
                pos_hint: {"center_x":.5,"top":.35}

            Image:
                source:"icons/time.png"
                pos_hint: {"top":.95,"center_x":0.5}
                size_hint: .5,.5
            ImageButtonSelectable:
                id: playbutton
                background_color: 0, 0, 0, 0
                pos_hint: {"top":.23,"center_x":0.5}
                size_hint: .15,.15
                source: "icons/play.png"
                on_press:
                    app.playsong()
            ImageButtonSelectable:
                id: backbutton
                background_color: 0, 0, 0, 0
                pos_hint: {"top":.23,"center_x":0.35}
                size_hint: .15,.15
                source: "icons/back.png"
                on_press:
                    app.prevsong()
            ImageButtonSelectable:
                id: nextbutton
                background_color: 0, 0, 0, 0
                pos_hint: {"top":.23,"center_x":0.65}
                size_hint: .15,.15
                source: "icons/next.png"
                on_press:
                    app.nextsong()


        FloatLayout:
            canvas:
                Color:
                    rgb: utils.get_color_from_hex("#4BB864")
                Rectangle:
                    size: self.size
                    pos: self.pos
            size_hint: 1., .15
            pos_hint: {"top":.15,"left":.1}

            LabelSquareButton:
                canvas.before:
                    Color:
                        rgb: utils.get_color_from_hex("#4BB864")
                    Rectangle:
                        size: self.size
                        pos: self.pos

                text: "[u]Home[/u]"
                markup: True
                size_hint:  .4, 1
                pos_hint: {"top": 1, "center_x" :.5}
                on_release:
                    app.change_screen("home_screen")

            LabelSquareButton:
                canvas.before:
                    Color:
                        rgb: utils.get_color_from_hex("#4BB864")
                    Rectangle:
                        size: self.size
                        pos: self.pos

                text: "[u]History[/u]"
                markup: True
                size_hint:  .3, 1
                pos_hint: {"top": 1, "left" :1}
                on_release:
                    app.load_history()
            LabelSquareButton:
                canvas.before:
                    Color:
                        rgb: utils.get_color_from_hex("#4BB864")
                    Rectangle:
                        size: self.size
                        pos: self.pos

                text: "[u]Search[/u]"
                markup: True
                size_hint:  .3, 1
                pos_hint: {"top": 1, "right" :1}
                on_release:
                    app.change_screen("search_screen")